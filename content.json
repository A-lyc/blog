{"meta":{"title":"qteam","subtitle":"博客","description":"碰到的事情，记下来，才是真的","author":"jason","url":"https://q-jason.github.io/blog","root":"/blog/"},"pages":[{"title":"","date":"2019-12-05T07:38:29.152Z","updated":"2019-12-05T07:38:29.152Z","comments":false,"path":"categories/index.html","permalink":"https://q-jason.github.io/blog/categories/index.html","excerpt":"","text":""},{"title":"","date":"2019-12-05T07:38:29.152Z","updated":"2019-12-05T07:38:29.152Z","comments":false,"path":"tags/index.html","permalink":"https://q-jason.github.io/blog/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"移动端适配心得","slug":"移动端适配心得","date":"2019-12-05T01:18:37.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1n000tymsj2a3r5zq7/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1n000tymsj2a3r5zq7/","excerpt":"","text":"本文主要讨论移动端开发的页面适配技巧 为何要适配？ 各个手机的屏幕大小不同，若用 px 单位，则会在各个屏幕下显示相同尺寸往往会偏大或偏小，效果差劲，原因是因为没有等比例缩放(没有用相对单位)相对单位有 vw，em，rem，% 等保证其在不同屏幕尺寸下，按照一定的尺寸标准，等比例缩放，实现自动适配 适配方法 原理都是根据屏幕实际宽度来计算 vw 适配方案 ★★★★★由于 1vw = 屏幕总宽的百分之一，是最适合用来适配的单位兼容性不如 rem 单位 rem 适配方案 ★★★★通过改变在 html 标签改变 font-size 属性，实现等比例缩放兼容性很好，是比较老的技术 开发体验 不论是 vw 还是 rem 自己算是很麻烦的… 0.2497rem … 2.645514vw …最好的开发体验是设计图多少就在项目中写多少然后通过预处理语言自动转化为 vw 或 rem 单位 解决方案 vw 在项目中写设计图上的 px 单位通过 postcss-px-to-viewport 预处理转为 vw单位通过 viewport-units-buggyfill 在客户端照顾兼容性 预处理：postcss-px-to-viewport https://github.com/evrone/postcss-px-to-viewportpostcss 的插件，只要写上参考设计图的宽度，自动将 px 单位转为 vw 单位 客户端：viewport-units-buggyfill https://github.com/rodneyrehm/viewport-units-buggyfill这是个 vw 单位的 polyfill，建议配合 postcss-px-to-viewport 使用作用是分析加载的 css 文件，然后将 vw 单位在转为 px，放到 head 中建议非必要不要使用，…有时会出现写莫名其妙的 bug rem 在项目中写设计图上的 px 单位通过 postcss-px2rem，预处理转为 rem 单位通过 hotcss，在客户端改变 html font-size 预处理：postcss-px2rem https://www.npmjs.com/package/postcss-px2rem基于 postcss 的插件，设置好 1rem = ？px 后，自动转换 px 为 rem 单位 客户端：hotcss https://github.com/imochen/hotcssrem 解决方案，按照 640 设计图动态设置 html 的 font-size 属性并通过设置 viewport scale，解决移动端 1px 难题可以设置屏幕最大尺寸，友好的适配桌面端建议配合 postcss-px2rem 使用 12345678910111213141516// hotcss 是已 640 设计图为标准的// 1rem = 40px - 在屏幕为 640// 1rem = 20px - 在屏幕为 320// 1rem = 40px - 在屏幕为 320，但是 viewport scale = 0.5 的情况下，相当于 640// 若设计图尺寸不是 640// 则需要自己换算// 算法为： innerWidth * 20 / 320// innerWidth 为屏幕实际尺寸// 例如：// 750 设计图// 算法为：750 / 2 * 20 / 320// 1rem = 46.875px - 在屏幕为 750// 1rem = 23.4375px - 在屏幕为 375// 1rem = 46.875px - 在屏幕为 375，但是 viewport scale = 0.5 的情况下，相当于 750","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"用户体验","slug":"用户体验","permalink":"https://q-jason.github.io/blog/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"},{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"},{"name":"开发体验","slug":"开发体验","permalink":"https://q-jason.github.io/blog/tags/%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/"}]},{"title":"酷库-swiper","slug":"酷库-swiper","date":"2019-11-28T08:11:03.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1q000zymsjb4034my1/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1q000zymsjb4034my1/","excerpt":"","text":"swiper https://github.com/nolimits4web/swiper非常知名的触摸滑动解决方案 this.emit 方法 该函数用于主动触发 swiper 的事件，文档中找不到….比如在 transitionStart 中写好了切换函数，但是在 初始化(init) 中也想调用一次就可以在 init 中使用 this.emit(‘transitionStart’) 来调用执行 mousewheel 心得 建议开启 mousewheel.releaseOnEdges 否则鼠标滚轮无效 写项目时使用 swiper@5.2.1，mousewheel 功能有些 bug，垂直滚动异常，降级即可解决","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]},{"title":"前后端分离的开发方式-前端篇","slug":"前后端分离的开发方式-前端篇","date":"2019-11-26T01:53:05.000Z","updated":"2019-12-05T07:38:29.148Z","comments":true,"path":"article/ck3sesl1d000iymsjasfde70i/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1d000iymsjasfde70i/","excerpt":"","text":"做项目时，情况千变万化。本文主要讨论前端与后端的交互接口部分 项目中前端的任务 切好页面骨架、样式 根据后端给的接口文档，访问接口，获取数据，填充页面，提交表单等交互 不断联调，最终完成 后端情况分析 主要分为以下情况 已有成型接口 或 一部分成型接口 ★★★★★ 没有成型接口，前后端同时进行，但是已经订好了数据字段 ★★★ 没有成型接口，前后端同时进行 或 后端进度比前端慢，没有交流沟通好数据字段 ☆☆ 没有成型接口，后端遥遥无期甚至迷茫 ☆ 分析问题 情况分析中 1 为理想情况，可以直接按照后端接口开发，无须特殊注意主要从 2、3、4 中分析 没有约定字段，导致前端不知道要用什么 key 值，导致后端接口成型后，需要重新大量修改前端 部分复杂功能需要依赖后端返回值，key值 和 响应返回值不确定造成无法进行 总结：字段 key 值不确定！ 解决方案 切好样式后，卡住不继续进行，等后端接口成型后，根据接口再继续做 ★★★分析：劳动力最小的方案，但卡住不进行在现实中不理想，工作量 “头轻脚重”，开发不连贯，造成很多问题 切好样式后，通过 mock 数据，继续绑定功能，key 值为前端定义，后期和后端商量着改 ★★分析：不推荐，会有 “沟通问题” 和 “成型差异”，“改” 可能会 “大改” 甚至 “全改” 切好样式后，通过 mock 数据，继续绑定功能，定义 “前端 key 值”，不需要与后端相同，额外增加代码 loader 部分，在前端转换 key 值差异 ★★★★★分析：开发连贯，loader 的存在避免了因为 key 值的问题而大改代码，维护性较好，可以随时出一份不需要后端即可访问的静态版本 解决方案 3 解析 例子使用了 vue + vue-cli开发过程为： 定义 “前端字段”，模拟数据，写好功能 后端接口完成，正式对接 对响应数据进行处理，转化为 “前端字段” 数据 完成提交等，必须有后端才能继续的功能 需求修改，从 1 重新开始 具体方法 定义环境变量 process.env.MOCK，代表进入 mock 环境 可自行查找方法，例：npm run dev -&gt; 开发模式，正式对接版本npm run build -&gt; 产品模式，正式对接版本npm run dev:mock -&gt; 开发模式，mock 版本npm run build:mock -&gt; 产品模式，mock 版本 分析页面所需要的字段，在 data 中定义前端 key 值，写好模板，并根据环境变量 mock 数据 12345&lt;template&gt; &lt;div v-if=\"dataArr\"&gt; &lt;div v-for=\"(item, i) in dataArr\" :key=\"i\"/&gt; &lt;/div&gt;&lt;/template&gt; 1234567891011121314151617181920212223242526272829// 是否为 mock 环境const IS_MOCK = process.env.MOCK;export default &#123; data () &#123; return &#123; bannerI: 0, title: IS_MOCK ? '标题' : null, dataArr: IS_MOCK ? [ &#123; name: 1 &#125;, &#123; name: 2 &#125; ] : null &#125; &#125;, methods: &#123; async init () &#123; // 待后端真实接口 if (!IS_MOCK) &#123; // 发送请求获取数据 let dataArr = await (axios.get('...')).data // 转换数据 this.dataArr = dataArr.map(() =&gt; &#123;/****/&#125;) &#125; &#125; &#125;, created () &#123; this.init(); &#125;&#125; 需要请求后端获取数据的方法中，判断 MOCK 值，模拟返回值。 关键词搜索等功能 1234567891011121314151617const IS_MOCK = process.env.MOCK;export default &#123; methods: &#123; search (keywords) &#123; // mock 定义前端需要的数据格式 if (IS_MOCK) &#123; return [ &#123; text: 1 &#125;, &#123; text: 2 &#125; ] &#125; // 待后端接口完成 // 根据上面 mock 的数据结构进行转换 else &#123; &#125; &#125; &#125;&#125; 表单提交的方法中，判断 MOCK 值，console 出请求参数。 123456789101112131415161718192021222324252627const IS_MOCK = process.env.MOCK;export default &#123; data () &#123; return &#123; name: IS_MOCK ? '魏大勋' : null, form: &#123; age: null, message: null &#125; &#125; &#125;, methods: &#123; submit () &#123; if (IS_MOCK) &#123; console.log('-----------------------') console.log('提交表单数据：') console.log(this.form); console.log('-----------------------') &#125; // 待后端接口完成 else &#123; &#125; &#125; &#125;&#125;","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://q-jason.github.io/blog/tags/vue/"},{"name":"开发经验","slug":"开发经验","permalink":"https://q-jason.github.io/blog/tags/%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/"}]},{"title":"微信小程序","slug":"微信小程序","date":"2019-11-12T01:23:45.000Z","updated":"2019-12-05T07:38:29.148Z","comments":true,"path":"article/ck3sesl1g000kymsjc2mybpua/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1g000kymsjc2mybpua/","excerpt":"","text":"记载着微信小程序的开发心得 框架的选择 若原生撸请忽略，但并不推荐，原生的开发体验较为差劲 wepy https://github.com/Tencent/wepy不推荐体验：类 vue 开发体验，但是区别还是比较大的，有学习成本问题：使用过一段时间，问题比较多…，放弃使用的原因是 repeat 双层循环，内层循环读取不到数据，并且无解决办法 mpvue https://github.com/Meituan-Dianping/mpvue推荐体验：不完全的 vue 开发体验，不支持 filter 等，其他基本相同，支持跨端问题：据说停止维护了…. uni-app https://github.com/dcloudio/uni-app非常推荐体验：完全的 vue 开发体验，支持所有 vue 语法，支持跨端，社区完善，并拥有插件平台 碰到的问题… 使用 lodash@4.17.15，dev 正常，pro 报错，降级到 lodash@4.16.0 好了 支持 cookie 小程序默认不支持 cookie 传输，但后端的逻辑经常会依赖 cookie解决方案：https://github.com/charleslo1/weapp-cookie使用起来非常方便，只需要引入即可 button 边框 button 边框是用 :after 实现的并不是 border 实现 iconfont 引入 小程序推荐使用 iconfont 作为部分图片的解决方案因为小程序中的 image 标签，默认宽高不是真实图片大小，需要手动定义替换图片时会造成一些麻烦(比如传的图片大小不一样，导致的显示不全问题)使用 iconfont 即可以解决问题注意：小程序不支持加载本地字体文件！但是可以加载网络字体文件 map 组件阻止手势缩放和拖动 官方暂不支持，但若无点击需求可以通过一个遮盖层实现 marker 自定义文字的位置 marker callout 只能显示在 marker 的上方，位置不能改变marker label 可以改变相对于 marker 的位置(大约计算)，但是没有 left，center，right 这种属性下面例子使用 label 实现文字垂直居中对其 1234567891011let markerArr = [ &#123; // ... marker options ... label: &#123; // ... label options ... anchorX: ('自定义文字'.length * 4.7) * -1, anchorY: -29 &#125; &#125;, // ... other marker] input change 事件不触发 已知基础库 2.9.3 有这个 bug若出现，降级或升级试试看 优雅的发送请求 https://github.com/SoloJiang/axioswx-axios 用这个库微信小程序版 axios，作者 fork 原本的 axios 实现 分包 建议所有项目一开始就使用分包功能按照页面功能分包，提早防范体积问题项目体积过大会碰到的问题： 不能在开发模式使用真实设备实时预览 无法上传代码 123456// uni-app 的分包优化配置&quot;mp-weixin&quot;: &#123; &quot;optimization&quot; : &#123; &quot;subPackages&quot; : true &#125;&#125;","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://q-jason.github.io/blog/tags/vue/"},{"name":"小程序","slug":"小程序","permalink":"https://q-jason.github.io/blog/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]},{"title":"酷库-前端图片辅助库","slug":"酷库-前端图片辅助库","date":"2019-11-11T01:25:31.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1v0019ymsj6auah6yg/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1v0019ymsj6auah6yg/","excerpt":"","text":"smartcrop.js https://github.com/jwagner/smartcrop.js用途：根据传入的长宽比，计算出图片的主要内容区域场景：主要用于响应式图片 grade https://github.com/benhowdle89/grade用途：根据图片主题色生成渐变色场景：主要用于图片背景","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]},{"title":"游览器 bfcache 机制","slug":"游览器bfcache机制","date":"2019-11-08T01:36:31.000Z","updated":"2019-12-05T07:38:29.148Z","comments":true,"path":"article/ck3sesl1j000oymsj0193ch2i/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1j000oymsj0193ch2i/","excerpt":"","text":"本文讨论 bfcache 机制带来的一些 bug bfcache 是啥 是一个游览器机制比如说从 a 网页去 b 网页，然后再点击 b 网页的回退按钮回到 a 网页页面不会刷新，而是使用缓存，用意是提高用户体验表单提交场景发生的比较多 例子：项目分析 项目：后端模板 webApp 项目前端：使用了 vue 做部分的效果(日期选择等，现成的组件)，页面上留有额外 input 供后端提取值后端：使用了 php 模板渲染页面结论：使用了较为混乱的开发方式，本以为使用额外 input 与后端进行解耦就可以顺利使用 vue 组件 例子：html结构1234567891011121314&lt;main&gt; &lt;div id=\"app\"&gt; &lt;!-- vue 组件 --&gt; &lt;vue-comp-input/&gt; &lt;vue-comp-input/&gt; &lt;vue-comp-input/&gt; &lt;vue-comp-input/&gt; &lt;/div&gt; &lt;!-- 供后端提取值的额外 input --&gt; &lt;input type=\"text\"&gt; &lt;input type=\"text\"&gt; &lt;input type=\"text\"&gt; &lt;input type=\"text\"&gt;&lt;/main&gt; 例子：bug 展示 总结 找了半天原因应该是就是因为使用了混乱的开发方式，导致使正常的 bfcache 逻辑出错最终想到放弃使用 bfcache 逻辑，每次都强制刷新页面即可解决这个问题解决方案如下： 12345678910// 将此代码放到 head 标签靠上的位置// 否则会加载额外的资源// 此代码相当于使用 bfcache 机制的回调// 使用 location.reload 重置页面window.addEventListener('pageshow', function (e) &#123; if (e.persisted || (window.performance &amp;&amp; window.performance.navigation.type == 2)) &#123; location.reload(); &#125;&#125;, false);","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"js","slug":"js","permalink":"https://q-jason.github.io/blog/tags/js/"},{"name":"html","slug":"html","permalink":"https://q-jason.github.io/blog/tags/html/"}]},{"title":"傻傻分不清的 DOM 元素尺寸属性","slug":"傻傻分不清的dom元素尺寸属性","date":"2019-11-08T01:14:07.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl12000cymsj5cl44k7v/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl12000cymsj5cl44k7v/","excerpt":"","text":"主要讨论以下属性 clientHeight / clientWidth offsetHeight / offsetWidth scrollHeight / scrollWidth 包罗万象 看懂了就啥都明白了 clientHeight / clientWidth 包含 padding，不包含 border、margin、滚动条尺寸 offsetHeight / offsetWidth 包含 padding、border、滚动条尺寸，不包含 margin scrollHeight / scrollWidth 此属性一般用于有滚动条的元素返回滚动内容的总尺寸","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"js","slug":"js","permalink":"https://q-jason.github.io/blog/tags/js/"}]},{"title":"五险一金扣除，实发工资算法","slug":"五险一金扣除，实发工资算法","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl0x0008ymsjg94e7tef/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl0x0008ymsjg94e7tef/","excerpt":"","text":"目前是 2019.10.03，本文记载着我理解的五险一金和税款的算法，具体比例会隔几年一调整，想要精确百度下即可。 个人承担比例 养老 = 8% 医疗 = 2% 失业 = 0.3% 一金 = 12%（该值非规定） 税款 = 0.03%（工资越高税率越高，具体百度吧） 例子 应发工资 10000 五险 养老 10000 * 0.08 = 800 失业 10000 * 0.003 = 30 医疗 10000 * 0.02 = 200 生育和工伤不需要个人承担 总共 800 + 30 + 200 = 1030 公积金 一金较为特殊，需要看公司定的缴纳基数（可能会按照比应发工资低的基数缴纳） 一金理想情况 10000 * 0.12 一金非理想情况 2600 * 0.12（2600是胡乱写的，具体要公司定） 总共（理想） 10000 * 0.12 = 1200 税款 这个较为复杂，目前应发工资超过 5000 才交税，税率为 3%工资到达某档位后，税率也会加，10000 是 3%，具体百度吧但是 3% 并不指的是应发工资（10000）的 3%，而是 应发工资 - 底数 - 五险一金扣款后 的剩余部分看公式吧 (10000 - 5000 - 五险一金个人承担部分) * 0.03 = 所需要交纳的税款 (10000 - 5000 - 1030 - 1200) * 0.03 = 83.1 实发工资 应发工资 - 五险 - 公积金 - 税 = 实发工资 10000 - 1030 - 1200 - 83.1 = 7686.9","categories":[{"name":"职场经验","slug":"职场经验","permalink":"https://q-jason.github.io/blog/categories/%E8%81%8C%E5%9C%BA%E7%BB%8F%E9%AA%8C/"}],"tags":[{"name":"职场经验","slug":"职场经验","permalink":"https://q-jason.github.io/blog/tags/%E8%81%8C%E5%9C%BA%E7%BB%8F%E9%AA%8C/"}]},{"title":"vh单位的可信度","slug":"vh单位的可信度","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl0m0002ymsjdzo7855n/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl0m0002ymsjdzo7855n/","excerpt":"","text":"vw, vh 都是自适应页面的利器vw 表现良好，vh 在 pc 端网页表现良好，但是在手机下 不！可！信！ 问题 手机游览器的 100vh 总会高出一截经过查阅，好像是算上了地址栏的高度，并且不准备修复，被认为是正常的。 测试代码1&lt;div id=\"test\" style=\"height: 100vh\"&gt;&lt;div&gt; 1alert('innerHeight: ' + innerHeight + '\\n' + 'test元素高度: ' + $('#test').css('height')); PC端测试 移动端测试 解决思路 使用 js 赋值 innerHeight 1$('.height-full').css('height', window.innerHeight);","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"css","slug":"css","permalink":"https://q-jason.github.io/blog/tags/css/"}]},{"title":":hover伪类选择器，移动端的表现","slug":"hover伪类选择器-移动端的表现","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl0d0000ymsj9ks0b562/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl0d0000ymsj9ks0b562/","excerpt":"","text":"这里主要记载一个响应式项目中碰到的下拉菜单的问题 美化下拉菜单在项目中是常见的需求常用 div 模拟，在 pc 端可以用 :hover 选择器移入时显示子菜单但是 :hover 在移动端兼容并不友好经过测试，在除 safari 的游览器中，兼容还比较好，唯独 safari 出现了问题… 例子 移动端 safari 的奇怪表现 必须是 a 元素才能触发 :hover 将元素修改成了 a 之后，点击页面其他处无法失去 :hover 焦点，除非点击其他 按钮 或 input 解决方案 使用 js 事件加 class 的方式实现，代替 :hover","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"css","slug":"css","permalink":"https://q-jason.github.io/blog/tags/css/"}]},{"title":"移动端文字垂直居中的问题","slug":"移动端文字垂直居中的问题","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.148Z","comments":true,"path":"article/ck3sesl1l000qymsjhdvj1io9/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1l000qymsjhdvj1io9/","excerpt":"","text":"移动端开发时经常会碰到文字居上的问题经过测试发现，主要是使用了独特的 font-family 引起的 移动端最佳 font-family 设置1234567body &#123; font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Helvetica Neue\", STHeiti, \"Microsoft Yahei\", Tahoma,Simsun,sans-serif;&#125; 移动端 input placeholder 居上 经过测试是由于 placeholder 默认的 line-height 导致的 1234/* safari placeholder 偏上的问题 */input::-webkit-input-placeholder &#123; line-height: normal;&#125; 问题重现android 未设置特殊字体 android 设置了特殊字体 ios 未设置特殊字体 ios 设置了特殊字体","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"css","slug":"css","permalink":"https://q-jason.github.io/blog/tags/css/"}]},{"title":"到底是谁的滚动条？","slug":"到底是谁的滚动条","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.148Z","comments":true,"path":"article/ck3sesl16000dymsjgmz80d15/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl16000dymsjgmz80d15/","excerpt":"","text":"网页中默认的滚动条到底是哪个元素的？body？html？ 测试 打印输出各大游览器 body 和 html 标签的 scrollTop 属性 chrome firefox ie11 safari 总结 除去 safari 默认滚动条都是 html 元素的只有 safari 这个奇葩滚动条是使用 body 元素的为啥 safari 这个奇葩总会有各种有问题…… 优雅的获取页面滚动位置1234567891011// IE9+window.pageYOffset;// 非 IEwindow.scrollY;// IE8以及以下document.documentElement.scrollTop;// 兼容性最好的写法window.pageYOffset || document.documentElement.scrollTop; 优雅的滚动页面原生方法（推荐）12345// 这俩货是一样的....window.scrollTo(x, y);// 相对滚动window.scrollBy(offsetX, offsetY) 直接赋值（不推荐）12345// chrome, ie, 火狐 ...document.documentElement.scrollTop = 100// 奇葩 safaridocument.body.scrollTop = 500","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"js","slug":"js","permalink":"https://q-jason.github.io/blog/tags/js/"},{"name":"html","slug":"html","permalink":"https://q-jason.github.io/blog/tags/html/"}]},{"title":"酷库-scrollspy(滚动监听)","slug":"酷库-scrollspy-滚动监听","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1o000wymsjepw50jxs/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1o000wymsjepw50jxs/","excerpt":"","text":"gumshoe https://github.com/cferdinandi/gumshoe项目中经常有需求的锚点滚动监听需求我之前尝试过用 ScrollReveal 实现，但是逻辑不太一样","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]},{"title":"vue-spa-移动端理想的用户体验","slug":"vue-spa-移动端理想的用户体验","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl0s0006ymsjfql3eqjn/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl0s0006ymsjfql3eqjn/","excerpt":"","text":"目前前端的跨端技术层出不穷，开发快，对用户透明。对前端开发者来说掌握的东西要更多了~ 本文谈论一些原生移动 app 用户体验 体验分析 每天都会用各种 app，各种操作熟记于心总结出以下网页不容易实现的需求 类似网页的历史记录，前进刷新网页，后退时使用历史缓存 前进或者后退（物理返回键）会有不同的切换效果（滑动切换） 点击物理返回键时若正处于 “模态对话框(dialog, alert)等”，不会返回页面，会先将对话框关闭 实现难点分析以及解决方案 vue keep-alive 无法实现前进刷新，后退使用缓存的 app 缓存逻辑 这里可以使用 vue-navigation 实现 前进和后退实现不同的切换效果 vue transition 标签配合 vue-navigation 实现 模态框逻辑，如何判断当前正在弹框，如何优雅的阻止切换切换并关闭模态框 推荐 vue-create-api 这个库，本文例子中使用了 element-ui 中的 MessageBox 实现 例子 github","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://q-jason.github.io/blog/tags/vue/"},{"name":"spa","slug":"spa","permalink":"https://q-jason.github.io/blog/tags/spa/"},{"name":"用户体验","slug":"用户体验","permalink":"https://q-jason.github.io/blog/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"}]},{"title":"低版本 IE 开发辅助库","slug":"酷库-低版本IE开发辅助库","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1t0015ymsj5iy958mz/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1t0015ymsj5iy958mz/","excerpt":"","text":"万恶的 IE….. 参考 css 圆角 和 阴影（PIE - 实现圆角和阴影） css background-size（background-size-htc - 实现背景大小设置，可惜只兼容到 IE8） css border-spacing IE 6 7 不支持（给 td 设置高度模拟） css border-box （box-sizing-polyfill） 表单元素的 placeholder（jquery.placeholder - 简单粗暴）","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]},{"title":"window.opener","slug":"window.opener","date":"2019-11-08T01:06:15.000Z","updated":"2019-12-05T07:38:29.144Z","comments":true,"path":"article/ck3sesl0v0007ymsj4mphesic/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl0v0007ymsj4mphesic/","excerpt":"","text":"项目中经常存在着需要跳转网页然后再跳转回来的需求比如说 oauth 登陆，微信支付宝等第三方登陆等若采用通常的链接跳转，会失去当前页面的所有逻辑回调跳转回来时页面也会重新加载用户体验极差，代码逻辑也失去了连贯性 终于有一天。。我发现了 window.opener….. window.open 该方法将打开一个新的网页标签注意：若用户未交互，游览器会阻止该方法的执行（游览器会认为不是用户的操作，认为是广告等）解决：在用户交互事件中调用 window.open（click 等事件） 123document.getElementById('btn').addEventListener(function (e) &#123; window.open('https://www.baidu.com');&#125;) window.opener 当前网页必须由 window.open 打开时才有window.opener 指向 window.open 时的父 window 对象 1window.opener.alert('提示') 实现（跳转网页回调）父窗口123456789// 定义回调 cb 事件window.callback = function (params) &#123; console.log(params);&#125;;// 点击按钮触发网页跳转，打开一个新页面document.getElementById('btn').addEventListener(function (e) &#123; window.open('https://www.baidu.com');&#125;) 子窗口12345// 触发父窗口回调方法，并传入参数window.opener.callback(/* any */);// 关闭当前子窗口window.close(); 这样保证了页面的执行顺序，也保证了用户体验。","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"js","slug":"js","permalink":"https://q-jason.github.io/blog/tags/js/"}]},{"title":"酷库-vue","slug":"酷库-vue相关","date":"2019-11-07T01:06:15.000Z","updated":"2019-12-05T07:38:29.152Z","comments":true,"path":"article/ck3sesl1r0012ymsj7zzf8y6z/","link":"","permalink":"https://q-jason.github.io/blog/article/ck3sesl1r0012ymsj7zzf8y6z/","excerpt":"","text":"UI库element-ui https://github.com/ElemeFE/element主要用于 PC 端项目个人认为其中的 messageBox (弹框消息盒子) 组件特别好用移动端改改样式其实也可以正常使用 vant-ui https://github.com/youzan/vant主要用于移动端项目拥有大量的实用组件 cube-ui https://github.com/didi/cube-ui主要用于移动端项目拥有大量实用组件 transition 过渡动画vue2-animate https://github.com/asika32764/vue2-animate基于 animate.css 封装的进场离场动画 表单验证vee-validate https://github.com/logaretm/vee-validate主要用于表单验证，使用起来十分优雅方便，可嵌套几乎任何 ui 库使用内置了大量的规则，并实现了国际化 函数式调用vue-create-api ★ https://github.com/cube-ui/vue-create-api强烈推荐作用是将组件函数式调用，主要用于弹框等，可以设置单例模式。 时间操作、格式化vue-moment https://github.com/brockpetrie/vue-moment将 moment 封装为 js 过滤器 离线存储vuex-persistedstate https://github.com/robinvdvleuten/vuex-persistedstate主要用于 vuex 离线存储例如：存储用户状态 token 等 拖拽排序Vue.Draggable https://github.com/SortableJS/Vue.Draggable用于拖拽排序场景，高星库 地图vue-baidu-map https://github.com/Dafrok/vue-baidu-map作用：组件化实现百度地图的功能备注：推荐使用，使用起来非常优雅","categories":[{"name":"web","slug":"web","permalink":"https://q-jason.github.io/blog/categories/web/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://q-jason.github.io/blog/tags/vue/"},{"name":"酷库","slug":"酷库","permalink":"https://q-jason.github.io/blog/tags/%E9%85%B7%E5%BA%93/"}]}]}